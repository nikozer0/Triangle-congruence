<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <script src="blockly_compressed.js"></script>
  <script src="blocks_compressed.js"></script>
  <script src="javascript_compressed.js"></script>
  <script src="my_block.js"></script>
  <script src="ja.js"></script>
  <script src="button.js"></script>
</head>
<body>
  <!--  ページ上の部分　CSSで装飾する  -->
  <div class="myLogo" style="float:inline-start; 
                             font-size: 170%" >
    証明　簡単な証明をしてみよう！　
    <button onclick="doCode()">証明作成！
    </button>
  </div>
  <div style="clear:both;">
  </div>
<!--  Google Blockly を表示する部分  -->
<div id="blocklyDiv" style="float:left; 
                            height: 500px; 
                            min-width: 50%;">
</div>
<!-- 問題画像を表示する部分 -->
<div style="float:inline-start">
 <img class="fit-picture" src="1.jpg">
 <!-- 証明の文章を作成する部分　-->
 <div id="SidePreview" style="padding: 10px; 
                              margin-bottom: 10px; 
                              border: 5px double #333333; 
                              border-radius: 10px; 
                              background-color: #ffff99; 
                              float:right;
                              height: 200px;
                              width: 500px;">
</div>
</div>
<!--  表示するブロックの定義  -->
  <xml id="toolbox" style="display: none">
   <category name="証明する△" colour="0">
    <block type="_1" ></block>
   </category>
   <category name="△の種類" colour="30">
    <block type="triangle_abc"></block>
    <block type="triangle_adc"></block>
   </category>
   <category name="理由" colour="60">
    <block type="given"></block>
    <block type="common"></block>
    <block type="reason_1"></block>
    <block type="reason_2"></block>
    <block type="reason_3"></block>
    <block type="line"></block>
    <block type="angle"></block>
   </category>
   <category name="辺" colour="90">
    <block type="line_1"></block>
    <block type="line_2"></block>
    <block type="line_3"></block>
    <block type="line_4"></block>
    <block type="line_5"></block>
    <block type="line_6"></block>
   </category>
   <category name="角" colour="120"> 
   </category>
   <category name="合同条件" colour="150">
    <block type="congruence_1"></block>
    <block type="congruence_2"></block>
    <block type="congruence_3"></block>
   </category>
   <category name="性質" colour="180">
   </category>
  </xml>

<!--  はじめに表示するブロックの定義  -->
<xml id="startBlocks" style="display: none">
  <block type="_1" x="-250" y="-200" ></block>
</xml>
 <script>
  var myRunCode;
  // ワークスペース設定
  var workspace = Blockly.inject(
  　'blocklyDiv', {
    toolbox: document.getElementById('toolbox'),
    maxBlocks: Infinity,
    grid: {
    　spacing: 18,
      length: 3,
      colour: '#ccc',
      snap: true,
          },
    trashcan: true,
    scrollbars: false,
    zoom: {
    　controls: true,
      wheel: false,
      startScale: 1.0,
      maxScale: 3,
      minScale: 0.3,
      scaleSpeed: 1.2,
          },
          },
        );
  //  はじめに表示するブロック　の実行
  Blockly.Xml.domToWorkspace(document.getElementById('startBlocks'), workspace);
   function doCode(){
        //ブロックからプログラム（文字列）を作成
        var code = Blockly.JavaScript.workspaceToCode(workspace);
        //プログラムを実行
        try{
         var result= eval(code);
         document.getElementById('SidePreview').innerText = result
        }
        catch(e){
          alert(e);
        }
      }
 </script>
</body>
</html>